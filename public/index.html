<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GitHub Trending Daily</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background-color: #f9fafb; color: #111; }
        .repo-card { transition: transform 0.2s; }
        .repo-card:hover { transform: translateY(-2px); }
    </style>
</head>
<body class="max-w-3xl mx-auto py-12 px-6">
    <header class="mb-10 text-center">
        <h1 class="text-3xl font-bold tracking-tight mb-2">GitHub Trending <span class="text-gray-400">Daily</span></h1>
        <p class="text-gray-500 text-sm" id="date-display"></p>
    </header>

    <main id="app" class="space-y-4">
        <!-- Loading State -->
        <div class="text-center text-gray-400 py-10">加载中...</div>
    </main>

    <footer class="mt-16 text-center text-xs text-gray-400 border-t pt-6">
        <p>Generated by OpenClaw · Data from GitHub</p>
    </footer>

    <script>
        // 设置日期
        const date = new Date();
        document.getElementById('date-display').textContent = date.toLocaleDateString('zh-CN', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });

        // 渲染列表
        async function loadData() {
            try {
                const res = await fetch('/data.json');
                const data = await res.json();
                const container = document.getElementById('app');
                container.innerHTML = '';

                data.forEach((repo, index) => {
                    const card = document.createElement('div');
                    card.className = 'repo-card bg-white p-5 rounded-xl border border-gray-100 shadow-sm hover:shadow-md cursor-pointer';
                    card.onclick = () => window.open(repo.url, '_blank');
                    
                    card.innerHTML = `
                        <div class="flex justify-between items-start mb-2">
                            <h2 class="text-lg font-semibold text-blue-600 truncate pr-4">
                                <span class="text-gray-400 mr-2 text-sm font-normal">#${index + 1}</span>
                                ${repo.name}
                            </h2>
                            <div class="flex items-center text-orange-500 text-sm font-medium whitespace-nowrap">
                                <svg class="w-4 h-4 mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
                                ${repo.stars.replace(' stars today', '')}
                            </div>
                        </div>
                        <p class="text-gray-600 text-sm leading-relaxed line-clamp-2">${repo.desc}</p>
                    `;
                    container.appendChild(card);
                });
            } catch (e) {
                document.getElementById('app').innerHTML = `<div class="text-center text-red-400">数据加载失败</div>`;
            }
        }
        loadData();
    </script>
</body>
</html>
